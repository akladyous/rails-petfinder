<div class="container w-50">
    <%= form_with(model: listing) do |form| %>
    <% if listing.errors.any? %>
        <div style="color: red">
        <h2><%= pluralize(listing.errors.count, "error") %> prohibited this listing from being saved:</h2>

        <ul>
            <% listing.errors.each do |error| %>
            <li><%= error.full_message %></li>
            <% end %>
        </ul>
        </div>
    <% end %>

    <div class="form-group mb-2">
        <%= form.label :listing_type, { class: 'form-label'} %>
        <%= form.select :listing_type,
            options_for_select(listing_type_options, selected: 'lost'), {},
            { :class => 'form-select', auto_focus: true }
        %>
    </div>

    <div class="form-group mb-2">
        <%= form.label :last_seen, { class: 'form-label'} %>
        <%= form.datetime_field :last_seen, { class: 'form-control' } %>
    </div>

    <div class="form-group mb-2">
        <%= form.label :address, { class: 'form-label'} %>
        <%= form.text_field :address, { class: 'form-control' } %>
    </div>

    <div class="form-group mb-2">
        <%= form.label :description, { class: 'form-label'} %>
        <%= form.text_area :description, { class: 'form-control' } %>
    </div>

    <%= fields_for :pet do |builder| %>
        <%= render 'pet', f: builder %>
    <% end %>

    <!-- <div> -->
        <%# form.label :user_id, %>
        <%# form.text_field :user_id, value: current_user %>
    <!-- </div> -->

    <div>
        <%= form.submit %>
    </div>
    <% end %>

</div>
<%# console %>
